{% extends 'base.html' %}

{% block title %}Calorie Calculator - Home{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0"><i class="fas fa-calculator"></i> Calorie Calculator</h2>
            </div>
            <div class="card-body">
                <p class="lead">Calculate your daily calorie needs based on the Mifflin-St Jeor Equation, a scientifically validated formula used in nutrition research.</p>
                
                <form method="post" class="needs-validation" novalidate>
                    {% csrf_token %}
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.age.id_for_label }}" class="form-label">{{ form.age.label }}</label>
                            {{ form.age }}
                            {% if form.age.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.age.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.gender.id_for_label }}" class="form-label">{{ form.gender.label }}</label>
                            {{ form.gender }}
                            {% if form.gender.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.gender.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.weight.id_for_label }}" class="form-label">{{ form.weight.label }}</label>
                            {{ form.weight }}
                            {% if form.weight.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.weight.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.height.id_for_label }}" class="form-label">{{ form.height.label }}</label>
                            {{ form.height }}
                            {% if form.height.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.height.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.activity_level.id_for_label }}" class="form-label">{{ form.activity_level.label }}</label>
                        {{ form.activity_level }}
                        {% if form.activity_level.errors %}
                            <div class="invalid-feedback d-block">
                                {% for error in form.activity_level.errors %}{{ error }}{% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.goal.id_for_label }}" class="form-label">{{ form.goal.label }}</label>
                        {{ form.goal }}
                        {% if form.goal.errors %}
                            <div class="invalid-feedback d-block">
                                {% for error in form.goal.errors %}{{ error }}{% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-lg w-100">
                        <i class="fas fa-calculator"></i> Calculate Calories
                    </button>
                </form>
            </div>
        </div>
        
        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title"><i class="fas fa-info-circle"></i> How it works</h5>
                <p class="card-text">
                    This calculator uses the <strong>Mifflin-St Jeor Equation</strong>, a scientifically validated formula 
                    based on multiple linear regression analysis. It estimates your Basal Metabolic Rate (BMR) and 
                    adjusts it based on your activity level to determine your Total Daily Energy Expenditure (TDEE).
                </p>
                <a href="{% url 'about' %}" class="btn btn-outline-primary">Learn More</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}